# 高校实验室设备管理系统需求文档

## 1. 项目概述

### 1.1 项目背景
当前高校实验室普遍存在信息更新滞后、流程繁琐、响应迟缓等问题，且设备管理、实验室预约等系统相互独立，缺乏协同管理机制。为解决这些痛点，本项目旨在设计并实现一个基于Spring Boot的高校实验室管理系统，覆盖设备全生命周期管理、实验室场地管理，并新增轻量级人工智能对话与指引模块，提升系统的交互性与智能化服务水平。

### 1.2 项目目标
- 实现设备全生命周期管理，包括采购入库、使用登记、借用归还、维修与报废处置
- 实现实验室场地管理，包括实验室信息管理、预约管理、使用登记
- 实现实验室课程信息管理与人工排课功能
- 面向管理员、教师、学生等多角色提供差异化功能视图
- 通过精细化权限控制保障数据安全
- 新增轻量级AI对话指引模块，提供自然语言问答支持
- 采用前后端分离架构，确保系统安全性与可扩展性

## 2. 系统架构

### 2.1 技术栈
- 后端：Spring Boot
- 前端：Vue.js
- 认证机制：JWT（JSON Web Token）
- 权限模型：基于角色-资源级别的权限控制模型（R-RBAC）
- AI模块：调用阿里云通义千问API实现，结合自定义知识库

### 2.2 系统分层

#### 2.2.1 前端分层
- 展示层：Vue.js组件，负责页面展示与用户交互
- 业务逻辑层：前端业务逻辑处理，如表单验证、数据格式化等
- 数据访问层：前端API请求封装，处理与后端的数据交互
- 状态管理层：统一管理应用状态，如Vuex/Pinia

#### 2.2.2 后端分层
- 控制层（Controller）：处理HTTP请求，返回响应结果
- 业务逻辑层（Service）：实现核心业务逻辑，如设备管理、用户管理等
- 数据访问层（DAO/Mapper）：与数据库交互，执行CRUD操作
- AI服务层：后端AI模块实现，处理自然语言查询、对话管理等
- 认证授权层：处理用户认证与权限控制
- 工具层：通用工具类与方法

#### 2.2.3 AI模块集成
- AI模块作为后端服务的一部分，与其他业务模块协同工作
- 支持独立部署与扩展（可选）
- 提供RESTful API接口，供前端调用
- 与后端数据库交互，获取设备、用户等相关数据

## 3. 功能需求

### 3.1 设备全生命周期管理

#### 3.1.1 采购入库
- 支持设备采购申请的创建、审核与审批流程
- 设备信息录入，包括设备名称、型号、规格、单价、数量、供应商、购置日期、保修期等
- 自动生成设备唯一标识（二维码/条形码），支持打印标签
- 支持批量导入设备数据，格式包括Excel、CSV
- 设备分类管理，支持自定义设备类别
- 采购合同管理，关联设备采购记录

#### 3.1.2 设备状态管理
- 设备状态定义：闲置、使用中、借用中、维修中、报废
- 状态自动流转与手动调整
- 设备状态变更记录与审计
- 设备位置管理，支持位置树状结构维护

#### 3.1.3 使用登记
- 设备使用前的登记功能，记录使用人、使用时间、使用目的
- 支持批量登记使用
- 设备使用状态实时更新
- 支持设备使用记录查询与统计
- 支持使用时长统计与分析

#### 3.1.4 借用归还
- 学生发起设备借用申请，选择借用设备、借用时间、归还时间
- 系统自动校验借用权限与设备可用性
- 管理员审核借用申请，支持批量审核
- 设备借出登记，生成借用记录与二维码
- 设备归还登记，支持扫码归还，检查设备状态
- 支持逾期提醒功能，通过系统消息通知
- 借用记录查询与统计
- 支持续借功能，续借需重新审核
- 固定审批流程：学生 → 管理员

#### 3.1.5 维修管理
- 设备故障报修功能，支持图片上传描述故障
- 维修工单创建与分配
- 维修过程跟踪与记录，支持维修进度更新
- 维修历史查询

#### 3.1.6 报废处置
- 设备报废申请与审核流程
- 报废原因分类管理
- 报废设备登记与处置记录
- 报废设备数据归档与查询
- 固定审批流程：管理员 → 管理员

### 3.2 实验室场地管理

#### 3.2.1 实验室信息管理
- 实验室基本信息录入：名称、编号、位置、面积、容纳人数、类型等
- 实验室设备配置管理：关联实验室与设备
- 实验室状态定义：可用、维护中、不可用
- 实验室图片与文档管理
- 实验室分类管理，支持自定义类别

#### 3.2.2 实验室预约管理
- 学生/教师发起实验室预约申请，选择实验室、时间段、预约目的
- 支持单个时间段和连续时间段预约
- 系统自动检测预约冲突，避免重复预约
- 固定审批流程（学生/教师 → 管理员），支持审批状态管理，不提供自定义流程配置
- 预约状态管理：待审核、已通过、已拒绝、已取消、已完成
- 支持批量预约与审批
- 预约提醒功能，通过系统消息通知
- 预约记录查询与统计
- 支持预约规则配置，如预约时间段、最长预约时长、预约权限等

#### 3.2.3 实验室使用登记
- 实验室使用前的登记功能，记录使用人、使用时间、使用目的
- 支持扫码登记进入实验室
- 实验室使用状态实时更新
- 支持实验室使用记录查询与统计
- 支持使用时长统计与分析

### 3.3 实验课程安排管理

#### 3.3.1 课程信息管理
- 实验课程基本信息录入：课程名称、编号、所属院系、授课教师、学分、学时等
- 课程与实验室关联管理
- 课程与设备关联管理
- 课程与学生关联管理（选课管理）
- 支持课程计划导入与导出

#### 3.3.2 课程安排管理
- 实验课程时间表安排，支持手动安排
- 提供排课冲突检测（时间、场地、设备、教师冲突）
- 支持单周、双周、每周等不同排课模式
- 课程表查询与导出，支持多种格式
- 课程变更管理，包括调课、停课、补课等

#### 3.3.3 课程资源管理
- 课程所需设备的统一管理与分配
- 课程所需耗材的管理与申请
- 课程相关文档与资料管理
- 支持课程资源的批量分配

### 3.4 一体化协同管理

#### 3.4.1 一人—设备—场地—课程关联
- 学生：关联到课程、设备借用、实验室预约
- 教师：关联到授课课程、设备管理、实验室管理
- 设备：关联到课程安排、实验室配置、借用记录
- 实验室：关联到课程安排、设备配置、预约记录
- 课程：关联到学生、教师、设备、实验室

#### 3.4.2 协同预约与调度
本系统中的协同调度以规则校验与冲突提示为主，不涉及复杂调度算法。
- 设备与实验室联合预约，确保设备与场地同时可用
- 课程安排与设备、实验室资源的关联匹配
- 支持冲突检测与提示
- 支持基于规则的资源分配建议

#### 3.4.3 多维数据统计与分析
- 学生使用设备与实验室情况统计
- 教师授课与资源使用情况统计
- 设备与实验室利用率综合分析
- 课程资源需求与使用情况分析
- 支持多维度数据关联分析，生成综合报表

### 3.5 用户管理

#### 3.5.1 角色管理
- 支持自定义角色定义，包括系统管理员、教师、学生等
- 角色权限分配与管理，支持可视化权限配置界面
- 支持角色继承，简化权限配置
- 内置默认角色模板，支持一键创建

#### 3.5.2 用户信息管理
- 用户注册、登录、信息修改
- 支持批量导入用户数据，格式包括Excel、CSV
- 用户身份验证与权限校验
- 用户状态管理（启用/禁用/锁定）
- 用户密码重置与强制修改
- 用户详细信息管理：姓名、学号/工号、角色、院系、联系方式、邮箱等
- 支持用户分组管理，按院系、班级等维度分组

#### 3.5.3 用户认证与授权
- JWT认证机制，支持Token过期时间配置
- 支持记住登录状态
- 支持单点登录（SSO）集成（可选）
- 支持第三方登录集成（如微信、QQ等，可选）

### 3.6 权限管理

#### 3.6.1 权限模型
- 基于角色-资源级别的权限控制模型（R-RBAC）
- 支持功能级权限控制：控制用户对功能模块的访问
- 支持数据级权限控制：控制用户对数据的访问范围
- 支持操作级权限控制：控制用户对数据的操作（增删改查）

#### 3.6.2 权限配置
- 可视化权限配置界面，支持拖拽式操作
- 支持按模块、按功能、按数据类型配置权限
- 支持批量权限分配与回收
- 支持权限模板管理，一键应用权限

#### 3.6.3 权限审计
- 权限分配记录与审计
- 用户操作日志记录，包括操作时间、操作人、操作内容、操作结果
- 支持日志查询、统计与导出
- 异常操作告警机制

#### 3.6.4 数据级权限
- 学生：仅能查看和操作本人相关数据
- 教师：可查看和操作本院系或本实验室相关所有设备数据
- 系统管理员：可查看和操作所有数据
- 支持自定义数据权限规则

### 3.7 人工智能对话与指引模块

#### 3.7.1 自然语言问答
- 设备位置查询：根据设备名称或ID查询具体存放位置
- 借用流程说明：详细解释设备借用的步骤和要求
- 常见问题解答：覆盖设备使用、借用、维修、实验室预约、课程安排等方面的常见问题
- 系统功能指引：引导用户使用系统各项功能
- 设备状态查询：查询特定设备的当前状态
- 借用规则查询：查询设备借用的时间限制、权限要求等规则
- 实验室预约流程查询：查询实验室预约的步骤和要求
- 实验室位置查询：根据实验室名称或ID查询具体位置
- 课程安排查询：查询特定课程的时间、地点和设备安排
- 课程资源查询：查询特定课程所需的设备和耗材

#### 3.7.2 对话管理
- 支持单轮问答功能
- 支持关键词/模板匹配
- 对话历史记录：保存用户对话记录，支持查看历史对话
- 对话内容过滤与安全控制：过滤敏感内容，确保对话安全

#### 3.7.3 AI模块管理
- 管理员可手动维护自定义问答知识库
- 支持批量导入/导出问答数据
- 支持AI回答模板定制
- 支持阿里云通义千问API密钥配置
- 支持API调用参数配置
- 支持知识库匹配规则配置

#### 3.7.4 后端集成设计
- AI模块作为后端服务的一部分，与设备管理、用户管理、实验室管理、课程管理等模块协同工作
- 提供RESTful API接口，供前端调用
- 与后端数据库交互，获取设备、用户、实验室、课程等相关数据
- 优先查询自定义知识库，未匹配到再调用阿里云通义千问API
- 支持异步处理，提高系统响应速度
- 支持API调用限流与熔断机制
- 不进行长期上下文维护，仅在单次请求范围内组织提示信息

### 3.8 基础统计与预警

#### 3.8.1 统计分析功能
- 设备使用率统计
- 实验室利用率统计
- 借用/逾期统计

#### 3.8.2 报表管理
- 支持报表导出，格式包括Excel、CSV

#### 3.8.3 数据可视化
- 系统首页仪表盘，展示关键指标与统计图表
- 支持实时数据更新

## 4. 非功能需求

### 4.1 安全性
- 敏感数据存储加密，如用户密码采用不可逆加密算法（如BCrypt）
- 防止SQL注入、XSS、CSRF等常见安全攻击
- 定期安全审计与日志记录
- 会话超时管理，支持自定义超时时间
- 密码强度策略，要求包含字母、数字、特殊字符

### 4.2 性能
以下性能指标基于教学与实验环境预期负载进行设定。
- 系统响应时间：普通查询≤2秒，复杂查询≤5秒，页面加载时间≤3秒
- 支持至少500并发用户访问，系统稳定运行
- 数据导入导出性能：1000条记录≤10秒

### 4.3 可用性
- 界面友好，操作简便，符合用户习惯
- 提供详细的用户手册与在线帮助文档
- 支持多浏览器兼容：Chrome 90+、Firefox 88+、Safari 14+、Edge 90+
- 支持移动端适配，提供响应式设计

### 4.4 可扩展性
- 模块化设计，支持功能扩展与定制
- 提供API接口，支持与其他系统集成

### 4.5 可维护性
- 代码结构清晰，遵循编码规范，文档齐全
- 支持日志管理与错误追踪，便于问题定位
- 定期备份与恢复机制，支持自动备份与手动备份
- 提供系统管理后台，便于系统配置与维护

### 4.6 用户体验
- 直观的操作界面，减少学习成本
- 统一的UI设计风格，符合现代设计规范
- 提供操作引导与提示，减少用户犯错
- 支持批量操作，提高工作效率
- 实时消息通知，及时提醒用户相关事项

### 4.7 兼容性
- 兼容主流操作系统：Windows 10+、macOS 11+、Linux（Ubuntu 20.04+）
- 兼容数据库：MySQL 8.0+
- 兼容主流浏览器，如4.3所述

### 4.8 合规性
- 符合国家相关法律法规要求，如《网络安全法》、《数据安全法》等
- 符合教育行业相关规范与标准

## 5. 数据需求

### 5.1 核心数据实体

#### 5.1.1 设备相关实体
- 设备信息：设备ID、名称、型号、规格、单价、数量、供应商、购置日期、保修期、状态、位置、所属实验室、所属课程等
- 借用记录：记录ID、设备ID、借用者ID、借用日期、归还日期、借用用途、状态等
- 维修记录：记录ID、设备ID、报修人、报修日期、故障描述、维修人员、维修结果、维修日期等

#### 5.1.2 实验室相关实体
- 实验室信息：实验室ID、名称、编号、位置、面积、容纳人数、类型、状态、负责人等
- 实验室预约记录：记录ID、实验室ID、预约人ID、预约日期、开始时间、结束时间、预约目的、状态等
- 实验室使用记录：记录ID、实验室ID、使用人ID、使用日期、开始时间、结束时间、使用目的等

#### 5.1.3 课程相关实体
- 课程信息：课程ID、名称、编号、所属院系、授课教师ID、学分、学时、课程类型等
- 课程安排：安排ID、课程ID、实验室ID、教师ID、星期、节次、开始周、结束周、排课类型（单周/双周/每周）等
- 课程资源：资源ID、课程ID、设备ID、数量、状态等
- 选课记录：记录ID、学生ID、课程ID、选课时间、成绩等

#### 5.1.4 用户相关实体
- 用户信息：用户ID、姓名、学号/工号、角色、院系、联系方式、邮箱等
- 角色信息：角色ID、角色名称、描述等
- 权限信息：权限ID、权限名称、权限类型、资源路径等
- 角色权限关联：角色ID、权限ID等

#### 5.1.5 AI相关实体
- 对话记录：记录ID、用户ID、对话内容、时间戳、满意度评分等
- 知识库：知识ID、问题、答案、分类、关键词等

### 5.2 数据库设计
- 采用关系型数据库（如MySQL）
- 数据库表结构设计符合第三范式
- 建立合理的索引，优化查询性能
- 支持数据备份与恢复

## 6. 角色与权限

### 6.1 系统管理员角色
- 拥有系统所有功能的访问权限
- 设备全生命周期管理（增删改查）
- 实验室场地管理（增删改查）
- 实验课程安排管理（增删改查）
- 用户管理与权限分配
- 系统配置与维护
- 数据统计与报表导出
- AI模块管理与配置

### 6.2 教师角色
- 设备查询与使用登记
- 设备借用申请与归还
- 设备故障报修与维修跟踪
- 设备保养计划制定与执行
- 查看与管理本实验室设备
- 审批学生设备借用申请
- 实验室预约申请与审批
- 实验课程信息管理与安排
- 课程资源分配与管理
- 查看借用记录与统计
- 查看实验室使用记录与统计
- 查看课程安排与统计
- AI对话咨询

### 6.3 学生角色
- 设备查询
- 设备借用申请与归还
- 实验室预约申请
- 查看个人借用记录
- 查看个人实验室预约记录
- 查看个人课程安排
- AI对话咨询

## 7. AI模块技术需求

### 7.1 技术选型
- 作为后端服务的一部分实现，集成到Spring Boot应用中
- 调用阿里云通义千问API实现对话功能
- 结合自定义知识库，优先从知识库读取答案
- 支持知识库的更新与维护
- 无需本地模型训练，通过API调用实现AI功能

### 7.2 功能要求
- 意图识别准确率≥85%
- 响应时间≤1秒
- 支持常见问题的自动回答
- 支持对话内容的更新与维护
- 支持多语言扩展（可选）
- 支持与后端数据库交互，获取设备、用户等相关数据
- 支持高并发请求处理
- 自定义知识库优先匹配，未匹配到再调用通义千问API
- 支持知识库的批量导入与导出
- 支持对话历史记录与管理

### 7.3 性能要求
- 单实例支持至少100并发请求
- API调用响应时间≤1秒
- 知识库查询响应时间≤500毫秒
- 支持API请求重试机制
- 支持API调用限流与熔断

### 7.4 配置要求
- 支持阿里云通义千问API密钥配置
- 支持API调用超时时间配置
- 支持知识库匹配阈值配置
- 支持单次请求提示内容长度配置

## 8. 系统集成需求

- 与学校统一身份认证系统集成（可选）
- 支持二维码/条形码扫描设备集成
- 支持邮件/短信通知集成
- 支持Excel/CSV数据导入导出

## 9. 风险评估与应对

1. 需求变更风险：建立需求变更管理流程，严格控制变更范围，采用敏捷开发方式应对合理变更
2. 技术风险：选择成熟稳定的技术栈，提前进行技术预研和原型验证
3. 集成风险：与学校现有系统集成前进行充分测试，提供灵活的API接口
4. AI模块效果风险：采用阿里云通义千问API结合自定义知识库的方式，确保基础功能可用，并定期优化知识库
5. 推广使用风险：加强用户培训与宣传，提供良好的用户支持和在线帮助文档
6. 数据安全风险：加强系统安全设计，采用加密技术保护敏感数据，定期进行安全审计
7. 性能风险：进行性能测试和优化，采用缓存技术和分布式架构提升系统性能

## 10. 预期效益

1. 提升实验室设备管理效率，减少设备闲置时间，提高设备利用率
2. 实现实验室预约和课程安排的智能化管理，避免资源冲突
3. 实现"一人—设备—场地—课程"一体化协同管理，提升管理水平
4. 通过AI对话模块提供便捷的查询和咨询服务，提升用户体验
5. 提供丰富的数据统计和报表功能，为决策提供数据支持
6. 降低管理成本，减少人工操作，提高工作效率

## 11. 总结

本需求文档详细描述了高校实验室多维协同管理平台的功能需求、非功能需求、数据需求、角色与权限、技术需求等内容。系统将实现设备全生命周期管理、实验室场地管理、实验课程安排管理，并通过AI对话模块提供智能化服务，实现"一人—设备—场地—课程"一体化协同管理。

系统采用前后端分离架构，基于Spring Boot和Vue.js开发，调用阿里云通义千问API实现AI功能。系统将面向管理员、教师、学生等多角色提供差异化功能视图，通过精细化权限控制保障数据安全。

本需求文档为后续的系统设计、开发和测试提供了详细的指导，确保系统能够满足高校实验室管理的实际需求，提升管理效率和服务水平。

---

**文档编制**：[肖聪]
**编制日期**：[2026/1/11]
**版本**：V1.0